// Reset unnecessary padding-right (scrollbar allowance) for fullscreen modal
$('.modal-fullscreen').on('shown.bs.modal', function () {
  $('.modal-fullscreen').css('padding-right', 0)
});

//Modals animation
var modalAnimations = {
	base: {
		in: 'rotateInDownLeft animated',
		out: 'rotateOutUpRight animated',
	},
	prev: {
		in: 'slideInLeft animated',
		out: 'slideOutRight animated',
	},
	next: {
		in: 'slideInLeft',
		out: 'slideOutLeft',
	},
};

$('.modal').on('show.bs.modal', function(e) {
	if ($(e.relatedTarget).hasClass('portfolio-item-link')) {
		var el = $(e.target);
		el
			.addClass(modalAnimations.base.in)
			.one(
				'webkitAnimationEnd oanimationend msAnimationEnd animationend',
				function() {
					el.removeClass(modalAnimations.base.in);
				},
			);
	}

});

//Shuffle.js - portfolio grid
var Shuffle = window.Shuffle;

var myShuffle = new Shuffle(document.querySelector('.portfolio-shuffle'), {
	itemSelector: '.portfolio-item',
	sizer: '.portfolio-shuffle-sizer',
});

var tag;
$('a.tag').on('click', function(evt) {
	tag = $(evt.currentTarget).attr('data-tag');
	evt.preventDefault();
	tag === 'all' ? myShuffle.filter() : myShuffle.filter(tag);
});